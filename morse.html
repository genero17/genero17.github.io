<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>BCGK Only ;)</title>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
</head>

<body>
    <form id="mcode_form" onsubmit="return false">
        <div class="form-group">
            <label for="exampleFormControlTextarea1">Morse code here</label>
            <textarea cols="50" rows="4" class="form-control" id="MORSE"></textarea>
        </div>
        <br><br>
        <div class="form-group">
            <label for="exampleFormControlTextarea1">ASCII here &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label>
            <textarea cols="50" rows="4" class="form-control" id="TXT"></textarea>
        </div><br>
        <button id="M2T" type="submit" class="btn btn-primary">Morse2Text</button>
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <button id="T2M" type="submit" class="btn btn-primary">Text2Morse</button>        
    </form>
</body>
<script>
    var morseCodes =[
        {
            'morse':'.-',
            'txt':'a'
        },
        {
            'morse':'-...',
            'txt':'b'
        },
        {
            'morse':'-.-.',
            'txt':'c'
        },
        {
            'morse':'-..',
            'txt':'d'
        },
        {
            'morse':'.',
            'txt':'e'
        },
        {
            'morse':'..-.',
            'txt':'f'
        },
        {
            'morse':'--.',
            'txt':'g'
        },
        {
            'morse':'....',
            'txt':'h'
        },
        {
            'morse':'..',
            'txt':'i'
        },
        {
            'morse':'.----',
            'txt':'j'
        },
        {
            'morse':'-.-',
            'txt':'k'
        },
        {
            'morse':'.-..',
            'txt':'l'
        },
        {
            'morse':'--',
            'txt':'m'
        },
        {
            'morse':'-.',
            'txt':'n'
        },
        {
            'morse':'---',
            'txt':'o'
        },
        {
            'morse':'.--.',
            'txt':'p'
        },
        {
            'morse':'--.-',
            'txt':'q'
        },
        {
            'morse':'.-.',
            'txt':'r'
        },
        {
            'morse':'...',
            'txt':'s'
        },
        {
            'morse':'-',
            'txt':'t'
        },
        {
            'morse':'..-',
            'txt':'u'
        },
        {
            'morse':'...-',
            'txt':'v'
        },
        {
            'morse':'.--',
            'txt':'w'
        },
        {
            'morse':'-..-',
            'txt':'x'
        },
        {
            'morse':'-.--',
            'txt':'y'
        },
        {
            'morse':'--..',
            'txt':'z'
        },
        {
            'morse':'-----',
            'txt':'0'
        },
        {
            'morse':'.----',
            'txt':'1'
        },
        {
            'morse':'..---',
            'txt':'2'
        },
        {
            'morse':'...--',
            'txt':'3'
        },
        {
            'morse':'....-',
            'txt':'4'
        },
        {
            'morse':'.....',
            'txt':'5'
        },
        {
            'morse':'-....',
            'txt':'6'
        },
        {
            'morse':'--...',
            'txt':'7'
        },
        {
            'morse':'---..',
            'txt':'8'
        },
        {
            'morse':'----.',
            'txt':'9'
        },
        {
            'morse':'.-.-.-',
            'txt':'.'
        },
        {
            'morse':'--..--',
            'txt':','
        },
        {
            'morse':'..--..',
            'txt':'?'
        },
        {
            'morse':'-.-.--',
            'txt':'!'
        },
        {
            'morse':'.−.−.−',
            'txt':'.'
        },
        {
            'morse':'---...',
            'txt':':'
        },
        {
            'morse':'−.−.−.',
            'txt':';'
        }
    ]
    function morseToTxt(mCode){
     var ary=   morseCodes.filter(function(element){
            if(element.morse==mCode)
                return true;
            else
                return false;
        })
        if(ary.length<1)
            return "UNDEF"
        
        return ary[0].txt
    }
    function txtToMorse(txtCode){
     var ary=   morseCodes.filter(function(element){
            if(element.txt==txtCode)
                return true;
            else
                return false;
        })
        if(ary.length<1)
            return "UNDEF"
        
        return ary[0].morse
    }
    function convMorse(){
        var morseWords = $("#MORSE").val().split("   ")//Triple space between words
        var txtWords = morseWords.map(function(word){
                return word.split(" ").map(function(letter){//single space between letters
                    return morseToTxt(letter)
                }).join('')
            })
        $("#TXT").val(txtWords.join(' '))
    }
    function convTxt(){
        var txtWords = $("#TXT").val().toLowerCase().split(" ")//Triple space between words
        var morseWords = txtWords.map(function(word){
                return word.split("").map(function(letter){//single space between letters
                    return txtToMorse(letter)
                }).join(' ')
            })
        $("#MORSE").val(morseWords.join('   '))
    }
    $(document).ready(function(){
        $("#M2T").click(convMorse)
        $("#T2M").click(convTxt)
    })
</script>
</html>
